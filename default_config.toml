# DO NOT EDIT THIS FILE, RUN THE PROGRAM AND EDIT config.toml INSTEAD

version=4 # DO NOT TOUCH IF YOU DON'T KNOW WHAT YOU'RE DOING

uri_prefix="$URI_PREFIX" # URI Prefix, you must include it when connecting to the server (https://example.com/uri_prefix/) if present
[server]
    host="0.0.0.0" # Server host
    port=42835 # Server port
    dev=false # Dev mode, DO NOT ENABLE THIS if you're using this in production, you can use --dev cli argument for a dev environment too
    threads=32 # Number of threads for the webserver, the more the the threads, the higher concurrency, but also higher CPU usage
    max_content_length=67108864 # The max content length the webserver will process in bytes, if it's more than that, it will return a 413 error
    proxy=true # Enable this if you are behind a reverse proxy
[frontend]
    hosted=true # Change to false if you don't want the backend host the frontend
    excluded_frontend_root_paths=["README.md", "LICENSE.md", ".nojekyll", "400.html", "404.html", "405.html", "413.html", "415.html", "500.html", ".git", "quickrun.js"]
    frontend_directory="../Mura"
[max_members]
    encrypted_channels=100 # Maximum members allowed in encrypted channels (DM/Group) due to key computation overhead
    max_channels=50 # Maximum number of channels a user can be a member of
[data_dir] # Data directories, they can be relative paths to Backend, automatically created if they doesn't exist
    pfps="./data/pfps"
    attachments="./data/attachments"
    database="./data/parley-chat.db"
[max_file_size] # Max file sizes in bytes
    pfps=1048576 # Max file size of a pfp
    attachments=15728640 # Max file size of a single attachment
[messages]
    max_message_length=2000 # Max amount of characters in a single message
    max_attachments=4 # Max amount of attachments in a single message
    signature_timestamp_window=60 # Maximum allowed time difference in seconds between client timestamp and server time for message signatures
[instance]
    password="" # Instance password, if set, users will need to provide this password when signing up
    invite="" # Automatically add people to a channel when they signup
    disable_channel_creation=false # Prevents all users from creating channels, and also removes the ability of creating DM channels
    disable_channel_deletion=false # Prevents all users from leaving all channels
[calls]
    enabled=true # Enable or disable calls feature
    stun_servers=["stun:stun.l.google.com:19302"] # STUN servers for WebRTC NAT traversal
    turn_servers=[] # Optional TURN servers for relaying (format: ["turn:example.com:3478"])
    turn_username="" # TURN server username
    turn_password="" # TURN server password